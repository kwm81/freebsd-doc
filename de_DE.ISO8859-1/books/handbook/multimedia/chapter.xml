<?xml version="1.0" encoding="iso-8859-1"?>
<!--
     The FreeBSD Documentation Project
     The FreeBSD German Documentation Project

     $FreeBSD$
     $FreeBSDde: de-docproj/books/handbook/multimedia/chapter.xml,v 1.100 2012/04/22 20:49:51 bcr Exp $
     basiert auf: r42014
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="multimedia">
  <info><title>Multimedia</title>
    <authorgroup>
      <author><personname><firstname>Ross</firstname><surname>Lippert</surname></personname><contrib>Überarbeitet von </contrib></author>
    </authorgroup>
  </info>


  <sect1 xml:id="multimedia-synopsis">
    <title>Übersicht</title>

    <para>&os; unterstützt viele unterschiedliche Soundkarten,
      die Benutzern den Genuss von Highfidelity-Klängen auf dem
      Computer ermöglichen.  Dazu gehört unter anderem die
      Möglichkeit, Tonquellen in den Formaten MPEG Audio Layer 3
      (<acronym>MP3</acronym>), Waveform Audio File
      (<acronym>WAV</acronym>), Ogg Vorbis und vielen weiteren
      Formaten aufzunehmen und wiederzugeben.  Darüber hinaus enthält
      die &os; Ports-Sammlung Anwendungen, die das Bearbeiten von
      aufgenommenen Tonspuren, das Hinzufügen von Klangeffekten
      und die Kontrolle der angeschlossenen MIDI-Geräte
      erlauben.</para>

    <para>&os; unterstützt auch die Wiedergabe von Videos und DVDs.
      Die &os; Ports-Sammlung enthält Anwendungen, um verschiedene
      Video-Medien wiederzugeben, zu kodieren und zu
      konvertieren.</para>

    <para>Dieses Kapitel beschreibt die Einrichtung von
      Soundkarten, Video-Wiedergabe, TV-Tuner Karten und
      Scannern unter &os;.  Es werden auch einige Anwendungen
      beschrieben, die für die Verwendung dieser Geräte zur Verfügung
      stehen.</para>

    <para>Dieses Kapitel behandelt die folgenden Punkte:</para>

    <itemizedlist>
      <listitem>
	<para>Konfiguration einer Soundkarte in &os;.</para>
      </listitem>

      <listitem>
	<para>Fehlersuche bei Sound Einstellungen.</para>
      </listitem>

      <listitem>
	<para>Wiedergabe und Kodierung von <acronym>MP3</acronym>s und
	  anderen Audio-Formaten.</para>
      </listitem>

      <listitem>
	<para>Vorbereitung des Systems für die Wiedergabe von
	  Videos.</para>
      </listitem>

      <listitem>
	<para>Wiedergabe von <acronym>DVD</acronym>s,
	  <filename>.mpg</filename>- und
	  <filename>.avi</filename>-Dateien.</para>
      </listitem>

      <listitem>
	<para>Rippen von <acronym>CD</acronym>s und
	  <acronym>DVD</acronym>s.</para>
      </listitem>

      <listitem>
	<para>Konfiguration von TV-Karten.</para>
      </listitem>

      <listitem>
	<para>Wie Sie CDs und DVDs in Dateien rippen.</para>
      </listitem>

      <listitem>
	<para>Installation und Konfiguration von MythTV.</para>
      </listitem>

      <listitem>
	<para>Einrichtung von Scannern.</para>
      </listitem>
    </itemizedlist>

    <para>Bevor Sie dieses Kapitel lesen, sollten Sie:</para>

    <itemizedlist>
      <listitem>
	<para>Wissen, wie Sie einen neuen Kernel konfigurieren
	  und installieren (<xref linkend="kernelconfig"/>).</para>
      </listitem>
    </itemizedlist>

    <warning>
      <para>Audio <acronym>CD</acronym>s besitzen eine andere
	Kodierung als normale ISO-Dateisysteme.  Deswegen sollten
	sie nicht mit &man.mount.8; eingehangen werden.</para>
    </warning>
  </sect1>

  <sect1 xml:id="sound-setup">
    <info><title>Soundkarten einrichten</title>
      <authorgroup>
        <author><personname><firstname>Moses</firstname><surname>Moore</surname></personname><contrib>Von </contrib></author>
      </authorgroup>
      <authorgroup>
	<author><personname><firstname>Marc</firstname><surname>Fonvieille</surname></personname><contrib>Aktualisiert von </contrib></author>
      </authorgroup>
      <authorgroup>
        <author><personname><firstname>Benedikt</firstname><surname>Köhler</surname></personname><contrib>Übersetzt von </contrib></author>
        <author><personname><firstname>Uwe</firstname><surname>Pierau</surname></personname></author>
      </authorgroup>
    </info>

    <sect2 xml:id="sound-device">
      <title>Den Soundtreiber einrichten</title>

      <indexterm><primary>PCI</primary></indexterm>
      <indexterm><primary>Soundkarten</primary></indexterm>

      <para>Bevor Sie die Konfiguration beginnen, sollten Sie in
	Erfahrung bringen welches Soundkartenmodell und welcher Chip
	benutzt wird.  &os; unterstützt eine Reihe Soundkarten.  Die
	<link
	  xlink:href="&rel.current.hardware;">Hardware-Notes</link>
	zählen alle unterstützten Karten und deren Treiber für
	&os; auf.</para>

      <indexterm>
        <primary>Kernel</primary>
        <secondary>Konfiguration</secondary>
      </indexterm>

      <para>Um die Soundkarte benutzen zu können, muss der richtige
	Gerätetreiber geladen werden.  Dies kann auf zwei Arten
	erreicht werden.  Am einfachsten ist es, das Kernelmodul für
	die Soundkarte mit &man.kldload.8; zu laden.  Dieses Beispiel
	lädt den Treiber für eine Creative &soundblaster; Live!
	Soundkarte:</para>

      <screen>&prompt.root; <userinput>kldload snd_emu10k1</userinput></screen>

      <para>Um den Treiber automatisch beim Systemstart zu laden,
	fügen Sie folgende Zeile in
	<filename>/boot/loader.conf</filename> ein:</para>

      <programlisting>snd_emu10k1_load="YES"</programlisting>

      <para>Weitere ladbare Soundmodule sind in
	<filename>/boot/defaults/loader.conf</filename> aufgeführt.
	Wenn Sie nicht sicher sind, welchen Gerätetreiber Sie laden
	müssen, laden Sie das Modul
	<filename>snd_driver</filename>:</para>

      <screen>&prompt.root; <userinput>kldload snd_driver</userinput></screen>

      <para>Der Treiber <filename>snd_driver</filename> ist ein
	Meta-Treiber, der alle gebräuchlichen Treiber lädt
	und die Suche nach dem richtigen Treiber vereinfacht.
	Durch Hinzufügen des Meta-Treibers in
	<filename>/boot/loader.conf</filename> können alternativ alle
	Audio-Treiber geladen werden.</para>

      <para>Um zu ermitteln, welcher Treiber für die
	Soundkarte vom Metatreiber <filename>snd_driver</filename>
	geladen wurde, geben Sie <command>cat /dev/sndstat</command>
	ein.</para>

      <para>Alternativ kann die Unterstützung für die Soundkarte
	direkt in den Kernel einkompiliert werden.  Diese Methode
	wird im nächsten Abschnitt beschrieben.  Weitere Informationen
	über den Bau eines Kernels finden Sie im <xref
	  linkend="kernelconfig"/>.</para>

      <sect3>
	<title>Soundkarten in der Kernelkonfiguration
	  einrichten</title>

	<para>Bei der Verwendung eines eigenen Kernels müssen Sie
	  sicherstellen, dass der Treiber für das Audio-Framework in
	  der Kernelkonfigurationsdatei vorhanden ist:</para>

        <programlisting>device sound</programlisting>

	<para>Als Nächstes muss die Unterstützung für die Soundkarte
	  hinzugefügt werden.  Dafür müssen Sie wissen, welcher
	  Treiber für die Karte benötigt wird.  Um das Beispiel mit
	  der Creative &soundblaster; Live! Soundkarte aus dem
	  vorherigen Abschnitt fortzusetzen, verwenden Sie die
	  folgende Zeile in der Kernelkonfigurationsdatei:</para>

        <programlisting>device snd_emu10k1</programlisting>

	<para>Die richtige Syntax für die Zeile lesen
	  Sie bitte in der Hilfeseite des entsprechenden
	  Treibers nach.  Die korrekte Syntax für alle
	  unterstützten Treiber finden Sie außerdem in
	  <filename>/usr/src/sys/conf/NOTES</filename>.</para>

	<para>Nicht PnP-fähige ISA-Soundkarten benötigen eventuell
	  Einstellungen, wie IRQ und I/O-Port in
	  <filename>/boot/device.hints</filename>.  Während des
	  Systemstarts liest der &man.loader.8; diese Datei und reicht
	  die Einstellungen an den Kernel weiter.  Für eine alte
	  Creative &soundblaster; 16 ISA-Karte, die sowohl den
	  &man.snd.sbc.4;- als auch den
	  <literal>snd_sb16</literal>-Treiber
	  benötigt, müssen die folgenden Zeilen in die
	  Kernelkonfigurationsdatei eingetragen werden:</para>

        <programlisting>device snd_sbc
device snd_sb16</programlisting>

	<para>Wenn die Karte den I/O-Port <literal>0x220</literal> und
	  IRQ <literal>5</literal> benutzt, müssen folgende Zeilen
	  zusätzlich in <filename>/boot/device.hints</filename>
	  hinzugefügt werden:</para>

	<programlisting>hint.sbc.0.at="isa"
hint.sbc.0.port="0x220"
hint.sbc.0.irq="5"
hint.sbc.0.drq="1"
hint.sbc.0.flags="0x15"</programlisting>

	<para>Die Syntax für <filename>/boot/device.hints</filename>
	  wird in &man.sound.4;, sowie in der Manualpage des
	  jeweiligen Treibers beschrieben.</para>

	<para>Das Beispiel verwendet die vorgegebenen Werte.
	  Falls die Karteneinstellungen andere Werte vorgeben,
	  müssen die Werte in der Kernelkonfiguration angepasst
	  werden.  Weitere Informationen zu dieser Soundkarte
	  finden Sie in &man.snd.sbc.4;.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="sound-testing">
      <title>Die Soundkarte testen</title>

      <para>Nachdem Sie den neuen Kernel gestartet oder das
	erforderliche Modul geladen haben, sollte die
	Soundkarte in den Systemmeldungen auftauchen.  Starten Sie
	&man.dmesg.8; und suchen Sie nach Meldungen wie diesen:</para>

      <screen>pcm0: &lt;Intel ICH3 (82801CA)&gt; port 0xdc80-0xdcbf,0xd800-0xd8ff irq 5 at device 31.5 on pci0
pcm0: [GIANT-LOCKED]
pcm0: &lt;Cirrus Logic CS4205 AC97 Codec&gt;</screen>

      <para>Der Status der Karte kann auch mit diesem Kommando
	geprüft werden:</para>

      <screen>&prompt.root; <userinput>cat /dev/sndstat</userinput>
FreeBSD Audio Driver (newpcm)
Installed devices:
pcm0: &lt;Intel ICH3 (82801CA)&gt; at io 0xd800, 0xdc80 irq 5 bufsz
16384
kld snd_ich (1p/2r/0v channels duplex default)</screen>

      <para>Die Ausgabe kann auf jedem System anders aussehen.  Wenn
	das Gerät <filename>pcm</filename> nicht erscheint, prüfen Sie
	die Kernelkonfigurationsdatei und stellen Sie sicher, dass der
	richtige Treiber gewählt wurde.  <xref
	  linkend="troubleshooting"/> beschreibt häufig auftretende
	Probleme.</para>

      <para>Wenn alles glatt lief, sollte die Soundkarte jetzt unter
	&os; funktionieren.  Wenn ein CD-ROM oder DVD-ROM-Laufwerk an
	die Soundkarte angeschlossen ist, können Sie jetzt mit
	&man.cdcontrol.1; eine CD abspielen:</para>

      <screen>&prompt.user; <userinput>cdcontrol -f /dev/acd0 play 1</userinput></screen>

      <para>Es gibt viele Anwendungen, wie
	<package>audio/workman</package>, die
	eine bessere Benutzerschnittstelle besitzen.  Zur Wiedergabe
	von MP3-Audiodateien kann <package>audio/mpg123</package>
	installiert werden.</para>

      <para>Eine weitere schnelle Möglichkeit die Karte zu
	prüfen, ist es, Daten an das Gerät
	<filename>/dev/dsp</filename> zu senden:</para>

      <screen>&prompt.user; <userinput>cat <replaceable>Datei</replaceable> &gt; /dev/dsp</userinput></screen>

      <para>Für
        <filename><replaceable>Datei</replaceable></filename> kann
	eine beliebige Datei verwendet werden.  Wenn Sie einige
	Geräusche hören, funktioniert die Soundkarte.</para>

      <note>
	<para>Die Gerätedateien <filename>/dev/dsp*</filename>
	  werden automatisch erzeugt, wenn sie das erste Mal benötigt
	  werden.  Werden sie nicht verwendet, sind sie hingegen nicht
	  vorhanden und tauchen daher auch nicht in der Ausgabe von
	  &man.ls.1; auf.</para>
      </note>

      <para>Die Einstellungen des Mixers können mit &man.mixer.8;
	verändert werden.  Weitere Details finden Sie in
	&man.mixer.8;.</para>

      <sect3 xml:id="troubleshooting">
        <title>Häufige Probleme</title>

        <indexterm><primary>Device Node</primary></indexterm>
        <indexterm><primary>Gerätedatei</primary></indexterm>
        <indexterm><primary>I/O port</primary></indexterm>
        <indexterm><primary>IRQ</primary></indexterm>
	<indexterm><primary>DSP</primary></indexterm>

        <informaltable frame="none" pgwide="1">
          <tgroup cols="2">
	    <thead>
	      <row>
	        <entry>Fehler</entry>
	        <entry>Lösung</entry>
	      </row>
            </thead>

	    <tbody>
              <row>
                <entry><errorname>sb_dspwr(XX) timed out</errorname></entry>
                <entry><para>Der I/O Port ist nicht korrekt angegeben.</para></entry>
              </row>

              <row>
                <entry><errorname>bad irq XX</errorname></entry>
	        <entry><para>Der IRQ ist falsch angegeben.  Stellen Sie
	          sicher, dass der angegebene IRQ mit dem Sound IRQ
		  übereinstimmt.</para></entry>
              </row>

              <row>
                <entry><errorname>xxx: gus pcm not attached, out of memory</errorname></entry>
                <entry><para>Es ist nicht genug Speicher verfügbar,
	          um das Gerät zu betreiben.</para></entry>
              </row>

              <row>
                <entry><errorname>xxx: can't open /dev/dsp!</errorname></entry>
	        <entry><para>Überprüfen Sie mit <command>fstat |
	            grep dsp</command> ob eine andere Anwendung das
		  Gerät geöffnet hat.  Häufige
		  Störenfriede sind <application>esound</application>
		  oder die Sound-Unterstützung von
		  <application>KDE</application>.</para></entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>

        <para>Ein weiterer Fall ist der, dass moderne Grafikkarten oft auch
          ihre eigenen Soundtreiber mit sich führen, um
          <acronym>HDMI</acronym> oder ähnliches zu verwenden.  Diese
          Audiogeräte werden manchmal vor der eigentlichen, separaten
          Soundkarte aufgeführt und dadurch nicht als das
          Standardgerät zum Abspielen von Tönen benutzt.  Um zu
          prüfen, ob das bei Ihnen der Fall ist, führen Sie
          <application>dmesg</application> aus und suchen Sie nach der
          Zeichenfolge <literal>pcm</literal>.  Die Ausgabe sieht in
	  etwa so aus:</para>

	    <programlisting>...
hdac0: HDA Driver Revision: 20100226_0142
hdac1: HDA Driver Revision: 20100226_0142
hdac0: HDA Codec #0: NVidia (Unknown)
hdac0: HDA Codec #1: NVidia (Unknown)
hdac0: HDA Codec #2: NVidia (Unknown)
hdac0: HDA Codec #3: NVidia (Unknown)
pcm0: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 0 nid 1 on hdac0
pcm1: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 1 nid 1 on hdac0
pcm2: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 2 nid 1 on hdac0
pcm3: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 3 nid 1 on hdac0
hdac1: HDA Codec #2: Realtek ALC889
pcm4: &lt;HDA Realtek ALC889 PCM #0 Analog&gt; at cad 2 nid 1 on hdac1
pcm5: &lt;HDA Realtek ALC889 PCM #1 Analog&gt; at cad 2 nid 1 on hdac1
pcm6: &lt;HDA Realtek ALC889 PCM #2 Digital&gt; at cad 2 nid 1 on hdac1
pcm7: &lt;HDA Realtek ALC889 PCM #3 Digital&gt; at cad 2 nid 1 on hdac1
...</programlisting>

   		<para>Hier wurde die Grafikkarte (<literal>NVidia</literal>)
   		  vor der Soundkarte (<literal>Realtek ALC889</literal>)
   		  aufgeführt.  Um die Soundkarte als
   		  Standardabspielgerät einzusetzen, ändern Sie
   		  <literal>hw.snd.default_unit</literal> auf die Einheit,
   		  welche für das Abspielen benutzt werden soll:</para>

   		<screen>&prompt.root; <userinput>sysctl hw.snd.default_unit=<replaceable>n</replaceable></userinput></screen>

   		<para>Hier repräsentiert <literal>n</literal> die Nummer
   		  der Soundkarte, die verwendet werden soll, in diesem Beispiel
   		  also <literal>4</literal>.  Sie können diese
   		  Änderung dauerhaft machen, indem Sie die folgende Zeile
   		  zu <filename>/etc/sysctl.conf</filename>
   		  hinzufügen:</para>

        <programlisting>hw.snd.default_unit=<replaceable>4</replaceable></programlisting>
      </sect3>
    </sect2>

    <sect2 xml:id="sound-multiple-sources">
      <info><title>Mehrere Tonquellen abspielen</title>
       <authorgroup>
        <author><personname><firstname>Munish</firstname><surname>Chopra</surname></personname><contrib>Beigetragen von </contrib></author>
       </authorgroup>
      </info>

      <para>Oft sollen mehrere Tonquellen gleichzeitig
	abgespielt werden.  &os; verwendet dazu
	<emphasis>virtuelle Tonkanäle</emphasis>, die mit
	&man.sysctl.8; aktiviert werden können.  Virtuelle Kanäle
	mischen die Tonquellen im Kernel, sodass mehrere Kanäle
	benutzt werden können, als von der Hardware unterstützt
	werden.</para>

      <para>Die Anzahl der virtuellen Kanäle können über drei
	&man.sysctl.8; Optionen eingestellt werden:</para>

      <screen>&prompt.root; <userinput>sysctl dev.pcm.0.play.vchans=4</userinput>
&prompt.root; <userinput>sysctl dev.pcm.0.rec.vchans=4</userinput>
&prompt.root; <userinput>sysctl hw.snd.maxautovchans=4</userinput></screen>

      <para>Im Beispiel werden vier virtuelle Kanäle
	eingerichtet, eine im Normalfall ausreichende Anzahl.
	Sowohl <varname>dev.pcm.0.play.vchans=4</varname> und
	<varname>dev.pcm.0.rec.vchans=4</varname> sind die Anzahl
	der virtuellen Kanäle des Geräts
	<filename>pcm0</filename>, die fürs Abspielen und Aufnehmen
	verwendet werden und sie können konfiguriert werden, sobald das
	Gerät existiert.
	<literal>hw.snd.maxautovchans</literal> ist die Anzahl der
	virtuellen Kanäle, die einem Gerät zugewiesen
	werden, wenn es durch &man.kldload.8; eingerichtet
	wird.  Da das Modul <filename>pcm</filename>
	unabhängig von den Hardware-Treibern geladen werden kann,
	gibt <varname>hw.snd.maxautovchans</varname> die Anzahl
	der virtuellen Kanäle an, die später eingerichtete
	Geräte erhalten. Lesen Sie dazu &man.pcm.4; für weitere
	Informationen.</para>

      <note>
	<para>Die Anzahl der virtuellen Kanäle kann nicht geändert
	  werden, solange das Gerät genutzt wird.  Schließen Sie daher
	  zuerst alle Programme wie Musikabspielprogramme oder
	  Sound-Daemonen, die auf dieses Gerät zugreifen.</para>
      </note>

      <para>Die korrekte <filename>pcm</filename>-Gerätedatei
	wird automatisch zugeteilt, wenn ein Programm das Gerät
	<filename>/dev/dsp0</filename> anfordert.</para>
    </sect2>

    <sect2>
      <info><title>Den Mixer einstellen</title>
	<authorgroup>
	  <author><personname><firstname>Josef</firstname><surname>El-Rayes</surname></personname><contrib>Beigetragen von </contrib></author>
	</authorgroup>
      </info>

      <para>Die Voreinstellungen des Mixers sind im Treiber
	&man.pcm.4; fest kodiert.  Es gibt zwar viele Anwendungen
	und Dienste, die den Mixer einstellen können
	und die eingestellten Werte bei jedem Start wieder
	setzen, am einfachsten ist es allerdings, die
	Standardwerte für den Mixer direkt im Treiber einzustellen.
	Der Mixer kann mit den entsprechenden Werten in
	<filename>/boot/device.hints</filename> eingestellt
	werden:</para>

      <programlisting>hint.pcm.0.vol="50"</programlisting>

      <para>Die Zeile setzt die Lautstärke des Mixers
	beim Laden des Moduls &man.pcm.4; auf den Wert
	<literal>50</literal>.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="sound-mp3">
    <info><title>MP3-Audio</title>
      <authorgroup>
	<author><personname><firstname>Chern</firstname><surname>Lee</surname></personname><contrib>Ein Beitrag von </contrib></author>
      </authorgroup>

      <authorgroup>
	<author><personname><firstname>Benedikt</firstname><surname>Köhler</surname></personname><contrib>Übersetzt von </contrib></author>
      </authorgroup>
    </info>

    <para>Dieser Abschnitt beschreibt einige unter &os; verfügbare
      <acronym>MP3</acronym>-Player.  Zudem wird beschrieben, wie
      Audio-CDs gerippt und <acronym>MP3</acronym>s kodiert und
      dekodiert werden.</para>

    <sect2 xml:id="mp3-players">
      <title>MP3-Player</title>

      <para><application>XMMS</application> ist ein beliebter
	graphischer <acronym>MP3</acronym>-Player.
	<application>WinAmp</application>-Skins können auch mit
	<application>XMMS</application> genutzt werden, da die
	Benutzerschnittstelle fast identisch mit der von Nullsofts
	<application>WinAmp</application> ist.  Daneben
	unterstützt <application>XMMS</application> auch eigene
	Plugins.</para>

      <para><application>XMMS</application> kann als
	<package>multimedia/xmms</package> Port oder Paket installiert
	werden.</para>

      <para>Die Benutzerschnittstelle von
	<application>XMMS</application> ist leicht zu erlernen und
	enthält eine Playlist, einen graphischen Equalizer und
	vieles mehr.  Diejenigen, die mit WinAmp vertraut sind, werden
	<application>XMMS</application> sehr leicht zu benutzen
	finden.</para>

      <para>Der Port <package>audio/mpg123</package> ist ein
	alternativer, kommandozeilenorientierter
	<acronym>MP3</acronym>-Player.</para>

      <para><application>mpg123</application> kann ausgeführt
	werden, indem das zu benutzende Audiogerät und die
	abzuspielende <acronym>MP3</acronym>-Datei auf der
	Kommandozeile angegeben wird. Wenn das
	Audiogerät beispielsweise <filename>/dev/dsp1.0</filename> ist
	und die <acronym>MP3</acronym>-Datei
	<replaceable>Foobar-GreatestHits.mp3</replaceable> heißt,
	geben Sie Folgendes ein um die Datei abzuspielen:</para>

      <screen>&prompt.root; <userinput>mpg123 -a /dev/dsp1.0 <replaceable>Foobar-GreatestHits.mp3</replaceable></userinput>
High Performance MPEG 1.0/2.0/2.5 Audio Player for Layer 1, 2 and 3.
Version 0.59r (1999/Jun/15).  Written and copyrights by Michael Hipp.
Uses code from various people.  See 'README' for more!
THIS SOFTWARE COMES WITH ABSOLUTELY NO WARRANTY! USE AT YOUR OWN RISK!





Playing MPEG stream from Foobar-GreatestHits.mp3 ...
MPEG 1.0 layer III, 128 kbit/s, 44100 Hz joint-stereo
</screen>
    </sect2>

    <sect2 xml:id="rip-cd">
      <title>CD-Audio Tracks rippen</title>

      <para>Bevor eine ganze CD oder einen CD-Track in das
	<acronym>MP3</acronym>-Format umgewandelt werden kann, müssen
	die Audiodaten von der CD auf die Festplatte gerippt werden.
	Dabei werden die <acronym>CDDA</acronym> (CD Digital Audio)
	Rohdaten in <acronym>WAV</acronym>-Dateien kopiert.</para>

      <para>Die Anwendung <command>cdda2wav</command>, die im
	<package>sysutils/cdrtools</package> Paket enthalten
	ist, kann zum Rippen der Audiodaten und anderen Informationen von CDs
	genutzt werden.</para>

      <para>Wenn die Audio CD in dem Laufwerk liegt, kann der folgende
	Befehl als <systemitem class="username">root</systemitem>
	ausgeführt werden, um eine ganze CD in einzelne
	<acronym>WAV</acronym>-Dateien (eine Datei für jeden Track)
	zu rippen:</para>

      <screen>&prompt.root; <userinput>cdda2wav -D <replaceable>0,1,0</replaceable> -B</userinput></screen>

      <para>Der Schalter <option>-D
	  <replaceable>0,1,0</replaceable></option> bezieht sich auf
	das SCSI Device <filename>0,1,0</filename>, das sich aus
	dem Ergebnis des Befehls <command>cdrecord -scanbus</command>
	ergibt.</para>

      <para><application>cdda2wav</application> unterstützt
	auch ATAPI (IDE) CD-ROM-Laufwerke.  Um von einem IDE-Laufwerk
	zu rippen, übergeben Sie auf der Kommandozeile
	statt der SCSI-IDs den Gerätenamen.  Das folgende
	Kommando rippt den 7.&nbsp;Track:</para>

      <screen>&prompt.root; <userinput>cdda2wav -D /dev/acd0 -t 7</userinput></screen>

      <para>Um einzelne Tracks zu rippen, benutzen Sie
	<option>-t</option> wie folgt:</para>

      <screen>&prompt.root; <userinput>cdda2wav -D <replaceable>0,1,0</replaceable> -t 7</userinput></screen>

      <para>Dieses Beispiel rippt den siebten Track der Audio
	CD-ROM.  Um mehrere Tracks zu rippen, zum Beispiel die Tracks
	eins bis sieben, können Sie wie folgt einen Bereich
	angeben:</para>

      <screen>&prompt.root; <userinput>cdda2wav -D <replaceable>0,1,0</replaceable> -t 1+7</userinput></screen>

      <para>Mit &man.dd.1; können ebenfalls Audio-Stücke
	von ATAPI-Laufwerken kopiert werden.  Dies wird im
	<xref linkend="duplicating-audiocds"/> erläutert.</para>
    </sect2>

    <sect2 xml:id="mp3-encoding">
      <title>MP3-Dateien kodieren</title>

      <para><application>Lame</application> ist ein weitverbreiteter
	<acronym>MP3</acronym>-Encoder, der als Port
	<package>audio/lame</package> installiert werden kann.  Aus
	lizenzrechtlichen Gründen ist kein Paket verfügbar.</para>

      <para>Der folgende Befehl konvertiert die gerippte
	<acronym>WAV</acronym>-Datei
	<filename><replaceable>audio01.wav</replaceable></filename>
	in <filename><replaceable>audio01.mp3</replaceable></filename>
	um:</para>

      <screen>&prompt.root; <userinput>lame -h -b <replaceable>128</replaceable> \
--tt "<replaceable>Foo Liedtitel</replaceable>" \
--ta "<replaceable>FooBar Künstler</replaceable>" \
--tl "<replaceable>FooBar Album</replaceable>" \
--ty "<replaceable>2001</replaceable>" \
--tc "<replaceable>Geripped und kodiert von Foo</replaceable>" \
--tg "<replaceable>Musikrichtung</replaceable>" \
<replaceable>audio01.wav audio01.mp3</replaceable></userinput></screen>

      <para>128&nbsp;kbits ist die gewöhnliche
	<acronym>MP3</acronym>-Bitrate.  Die Bitraten 160 oder
	192&nbsp;kbits bieten eine höhere Qualität.  Je höher die
	Bitrate ist, desto mehr Speicherplatz benötigt die
	resultierende <acronym>MP3</acronym>-Datei.
	<option>-h</option> verwendet den <quote>higher quality but a
	  little slower</quote> (höhere Qualität, aber etwas
	  langsamer) Modus.  Die Schalter, die mit
	<option>--t</option> beginnen, sind ID3-Tags, die in der Regel
	Informationen über das Lied enthalten und in die
	<acronym>MP3</acronym>-Datei eingebettet sind.  Weitere
	Optionen können in der Manualpage von
	<application>lame</application> nachgelesen werden.</para>
    </sect2>

    <sect2 xml:id="mp3-decoding">
      <title>MP3-Dateien dekodieren</title>

      <para>Um aus <acronym>MP3</acronym>-Dateien eine Audio CD zu
	erstellen, müssen diese zuerst in ein nicht komprimiertes
	<acronym>WAV</acronym>-Format umgewandelt werden.  Sowohl
	<application>XMMS</application> als auch
	<application>mpg123</application> unterstützen die Ausgabe der
	<acronym>MP3</acronym>-Dateien in unkomprimierte
	Dateiformate.</para>

      <para>Dekodieren mit <application>XMMS</application>:</para>

      <procedure>
	<step>
	  <para>Starten Sie <application>XMMS</application>.</para>
	</step>

	<step>
	  <para>Klicken Sie mit der rechten Maustaste, um das
	    <application>XMMS</application>-Menu zu öffnen.</para>
	</step>

	<step>
	  <para>Wählen Sie <literal>Preferences</literal> im
	    Untermenü <literal>Options</literal>.</para>
	</step>

	<step>
	  <para>Ändern Sie das Output-Plugin in
	    <quote>Disk Writer Plugin</quote>.</para>
	</step>

	<step>
	  <para>Drücken Sie <literal>Configure</literal>.</para>
	</step>

	<step>
	  <para>Geben Sie ein Verzeichnis ein, in das Sie die
	    unkomprimierte Datei schreiben wollen.</para>
	</step>

	<step>
	  <para>Laden Sie die <acronym>MP3</acronym>-Datei wie gewohnt
	    in <application>XMMS</application> mit einer Lautstärke
	    von 100% und einem abgeschalteten EQ.</para>
	</step>

	<step>
	  <para>Drücken Sie <literal>Play</literal> und es wird
	    so aussehen, als spiele <application>XMMS</application>
	    die <acronym>MP3</acronym>-Datei ab, aber keine Musik ist
	    zu hören.  Der Player überspielt die
	    <acronym>MP3</acronym>-Datei in eine Datei.</para>
	</step>

	<step>
	  <para>Vergessen Sie nicht, das Output-Plugin wieder in den
	    Ausgangszustand zurückzusetzen um wieder
	    <acronym>MP3</acronym>-Dateien anhören zu können.</para>
	</step>
      </procedure>

      <para>Mit <application>mpg123</application> nach stdout schreiben:</para>

      <procedure>
	<step>
	  <para>Geben Sie <command>mpg123 -s
	      <replaceable>audio01.mp3</replaceable> &gt;
	      <replaceable>audio01.pcm</replaceable></command>
	    ein.</para>
	</step>
      </procedure>

      <para><application>XMMS</application> schreibt die Datei im
	<acronym>WAV</acronym>-Format aus während
	<application>mpg123</application> die
	<acronym>MP3</acronym>-Datei in rohe PCM-Audiodaten umwandelt.
	<application>cdrecord</application> kann mit beiden Formaten
	Audio-CDs erstellen, &man.burncd.8; kann nur rohe
	<acronym>PCM</acronym>-Audiodaten verarbeiten.  Der Dateikopf
	von <acronym>WAV</acronym>-Dateien erzeugt am Anfang des
	Stücks ein Knacken.  Sie können den Dateikopf mit dem Werkzeug
	<application>SoX</application>, das sich als Paket oder aus
	dem Port <package>audio/sox</package> installieren lässt,
	entfernen:</para>

      <screen>&prompt.user; <userinput>sox -t wav -r 44100 -s -w -c 2 <replaceable>track.wav track.raw</replaceable></userinput></screen>

      <para>Lesen Sie <xref linkend="creating-cds"/>, um mehr
	Informationen zur Benutzung von CD-Brennern mit &os; zu
	erhalten.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="video-playback">
    <info><title>Videos wiedergeben</title>
      <authorgroup>
        <author><personname><firstname>Ross</firstname><surname>Lippert</surname></personname><contrib>Beigetragen von </contrib></author>
      </authorgroup>
      
    </info>

    <para>Bevor Sie beginnen, sollten Sie das Modell der
      Videokarte und den benutzten Chip kennen.  Obwohl
      <application>&xorg;</application> viele Videokarten
      unterstützt, können nur einige Karten Videos
      schnell genug wiedergeben.  Eine Liste der Erweiterungen,
      die der <application>&xorg;</application>-Server für eine
      Videokarte unterstützt, erhalten Sie unter laufendem X11 mit
      &man.xdpyinfo.1;.</para>

    <para>Halten Sie eine kurze MPEG-Datei bereit, mit der
      Sie Wiedergabeprogramme und deren Optionen testen
      können.  Da einige DVD-Spieler in der Voreinstellung
      das DVD-Gerät mit <filename>/dev/dvd</filename> ansprechen
      oder diesen Namen fest einkodiert haben, ist es vielleicht
      hilfreich symbolische Links auf die richtigen Geräte
      anzulegen:</para>

    <screen>&prompt.root; <userinput>ln -sf /dev/acd0 /dev/dvd</userinput>
&prompt.root; <userinput>ln -sf /dev/acd0 /dev/rdvd</userinput></screen>

    <para>Aufgrund der Beschaffenheit &man.devfs.5; gehen gesondert
      angelegte Links wie diese bei einem Neustart des Systems
      verloren.  Damit die symbolischen Links automatisch beim
      Neustart des Systems angelegt werden, fügen Sie die folgenden
      Zeilen in <filename>/etc/devfs.conf</filename> ein:</para>

    <programlisting>link acd0 dvd
link acd0 rdvd</programlisting>

    <para>Das Entschlüsseln von DVDs erfordert den Aufruf bestimmter
      DVD-ROM-Funktionen, sowie Schreibzugriff auf die
      DVD-Geräte.</para>

    <para><application>&xorg;</application> benutzt Shared-Memory und
      es wird empfohlen, die nachstehenden &man.sysctl.8;-Variablen
      auf die gezeigten Werte zu erhöhen:</para>

    <programlisting>kern.ipc.shmmax=67108864
kern.ipc.shmall=32768</programlisting>

    <sect2 xml:id="video-interface">
      <title>Video-Schnittstellen</title>

      <indexterm><primary>XVideo</primary></indexterm>
      <indexterm><primary>SDL</primary></indexterm>
      <indexterm><primary>DGA</primary></indexterm>

      <para>Es gibt einige Möglichkeiten, Videos unter
        <application>&xorg;</application> abzuspielen.  Welche
	Möglichkeit funktioniert, hängt stark von der verwendeten
	Hardware ab.</para>

      <para>Gebräuchliche Video-Schnittstellen sind:</para>

      <orderedlist>
	<listitem>
	  <para><application>&xorg;</application>: normale Ausgabe
	    über Shared-Memory.</para>
	</listitem>

	<listitem>
	  <para>XVideo:  Eine Erweiterung der
	    <application>&xorg;</application>-Schnittstelle,
	    die Videos in jedem X11-Drawable anzeigen kann.</para>
	</listitem>
	
	<listitem>
	  <para><acronym>SDL</acronym>: Simple DirectMedia
	    Layer.</para>
	</listitem>
	
	<listitem>
	  <para><acronym>DGA</acronym>: Direct Graphics Access.</para>
	</listitem>
	
	<listitem>
	  <para>SVGAlib: Eine Schnittstelle zur Grafikausgabe auf
	    der Konsole.</para>
	</listitem>
      </orderedlist>

      <sect3 xml:id="video-interface-xvideo">
	<title>XVideo</title>

	<para>Die Erweiterung <firstterm>XVideo</firstterm> (auch
	  Xvideo, Xv oder xv) von <application>&xorg;</application>
	  erlaubt die beschleunigte Wiedergabe von Videos in
	  jedem Drawable.  Diese Erweiterung liefert auch auf
	  weniger leistungsfähigen Systemen eine gute
	  Wiedergabe.</para>

	<para>Ob die Erweiterung läuft, entnehmen Sie der
	  Ausgabe von <command>xvinfo</command>:</para>

	<screen>&prompt.user; <userinput>xvinfo</userinput></screen>

	<para>XVideo wird untertsützt, wenn die Ausgabe wie
	  folgt aussieht:</para>

	<screen>X-Video Extension version 2.2
screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
      "XV_COLORKEY" (range 0 to 16777215)
              client settable attribute
              client gettable attribute (current value is 2110)
      "XV_BRIGHTNESS" (range -128 to 127)
              client settable attribute
              client gettable attribute (current value is 0)
      "XV_CONTRAST" (range 0 to 255)
              client settable attribute
              client gettable attribute (current value is 128)
      "XV_SATURATION" (range 0 to 255)
              client settable attribute
              client gettable attribute (current value is 128)
      "XV_HUE" (range -180 to 180)
              client settable attribute
              client gettable attribute (current value is 0)
    maximum XvImage size: 1024 x 1024
    Number of image formats: 7
      id: 0x32595559 (YUY2)
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        type: YUV (packed)
      id: 0x32315659 (YV12)
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
      id: 0x30323449 (I420)
        guid: 49343230-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
      id: 0x36315652 (RV16)
        guid: 52563135-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        type: RGB (packed)
        depth: 0
        red, green, blue masks: 0x1f, 0x3e0, 0x7c00
      id: 0x35315652 (RV15)
        guid: 52563136-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        type: RGB (packed)
        depth: 0
        red, green, blue masks: 0x1f, 0x7e0, 0xf800
      id: 0x31313259 (Y211)
        guid: 59323131-0000-0010-8000-00aa00389b71
        bits per pixel: 6
        number of planes: 3
        type: YUV (packed)
      id: 0x0
        guid: 00000000-0000-0000-0000-000000000000
        bits per pixel: 0
        number of planes: 0
        type: RGB (packed)
        depth: 1
        red, green, blue masks: 0x0, 0x0, 0x0</screen>

	<para>Einige der aufgeführten Formate, wie YUV2 oder YUV12
	  existieren in machen XVideo-Implementierungen nicht.
	  Dies kann zu Problemen mit einigen Spielern führen.</para>

	<para>XVideo wird wahrscheinlich von der Karte
	  nicht unterstützt, wenn die Ausgabe wie folgt
	  aussieht:</para>

	<screen>X-Video Extension version 2.2
screen #0
no adaptors present</screen>

	<para>Wenn die XVideo-Erweiterung auf der Karte nicht
	  läuft, wird es nur etwas schwieriger, die
	  Anforderungen für die Wiedergabe von Videos zu
	  erfüllen.  Abhängig von der Videokarte
	  und dem Prozessor können Sie dennoch zufriedenstellende
	  Ergebnisse erzielen.</para>
      </sect3>

      <sect3 xml:id="video-interface-SDL">
	<title>Simple DirectMedia Layer</title>

	<para>Der Simple DirectMedia Layer, <acronym>SDL</acronym>,
	  ist eine portable Schnittstelle für verschiedene
	  Betriebssysteme, mit denen Anwendungen
	  plattformübergreifend und effizient Ton und Grafik benutzen
	  können.  <acronym>SDL</acronym> bietet eine hardwarenahe
	  Schnittstelle, die manchmal schneller als die
	  <application>&xorg;</application>-Schnittstelle sein
	  kann.</para>

	<para><acronym>SDL</acronym> kann als Paket oder Port
	  <package>devel/sdl12</package>installiert werden.</para>
      </sect3>

      <sect3 xml:id="video-interface-DGA">
	<title>Direct Graphics Access</title>

	<para>Direct Graphics Access (<acronym>DGA</acronym>) ist eine
	  <application>&xorg;</application>-Erweiterung die es
	  Anwendungen erlaubt, am
	  <application>&xorg;</application>-Server vorbei direkt in
	  den Framebuffer zu schreiben.  Da die Anwendung und der
	  <application>&xorg;</application>-Server auf gemeinsame
	  Speicherbereiche zugreifen, müssen die Anwendungen unter dem
	  Benutzer <systemitem class="username">root</systemitem>
	  laufen.</para>

	<para>Die <acronym>DGA</acronym>-Erweiterung kann mit
	  &man.dga.1; getestet werden.  <command>dga</command>
	  wechselt jedes Mal, wenn eine Taste gedrückt wird, die
	  Farben der Anzeige.  Um das Programm zu beenden, drücken
	  Sie <keycap>q</keycap>.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="video-ports">
      <title>Video-Anwendungen</title>

      <indexterm>
	<primary>Video-Anwendungen</primary>
      </indexterm>

      <para>Dieser Abschnitt behandelt Anwendungen aus der
	&os;-Ports-Sammlung, die für die Wiedergabe von Videos
	genutzt werden können.</para>

      <para>Viele unter &os; laufende Videoanwendungen wurden
	unter &linux; entwickelt und befinden sich noch im
	Beta-Status.  Der Betrieb dieser Anwendungen
	unter &os; stößt vielleicht auf einige der
	nachstehenden Probleme:</para>

      <orderedlist>
	<listitem>
	  <para>Eine Anwendung kann eine Datei einer anderen
	    Anwendung nicht abspielen.</para>
	</listitem>

	<listitem>
	  <para>Eine Anwendung kann eine selbst produzierte
	    Datei nicht abspielen.</para>
	</listitem>

	<listitem>
	  <para>Wenn dieselbe Anwendung auf unterschiedlichen
	    Maschinen gebaut wird, wird ein Video unterschiedlich
	    wiedergegeben.</para>
	</listitem>

	<listitem>
	  <para>Ein vergleichsweise einfacher Filter, wie die
	    Skalierung eines Bildes, führt zu deutlichen
	    Artefakten in der Darstellung.</para>
	</listitem>

	<listitem>
	  <para>Eine Anwendung stürzt häufig ab.</para>
	</listitem>

	<listitem>
	  <para>Die Dokumentation wird bei der Installation des Ports
	    nicht installiert.  Sie befindet sich entweder auf
	    dem Internet oder im Verzeichnis
	    <filename>work</filename> des Ports.</para>
	</listitem>
      </orderedlist>

      <para>Viele Anwendungen sind zudem sehr
	<quote>&linux;-lastig</quote>.  Probleme entstehen durch die
	Implementierung von Standard-Bibliotheken in
	&linux;-Distributionen oder dadurch, dass die Anwendung
	bestimmte &linux;-Kernelfunktionen voraussetzt.  Diese
	Probleme werden nicht immer vom Betreuer eines Ports bemerkt
	und umgangen.  In der Praxis können dadurch folgende Probleme
	entstehen:</para>

      <orderedlist>
	<listitem>
	  <para>Eigenschaften des Prozessors werden über
	    <filename>/proc/cpuinfo</filename> ermittelt.</para>
	</listitem>

	<listitem>
	  <para>Die falsche Anwendung von Threads führt dazu,
	    dass sich ein Programm aufhängt statt sich
	    zu beenden.</para>
	</listitem>

	<listitem>
	  <para>Die Anwendung hängt von anderen Anwendungen
	    ab, die sich noch nicht in der &os; Ports-Sammlung
	    befinden.</para>
	</listitem>
      </orderedlist>

      <sect3 xml:id="video-mplayer">
	<title>MPlayer</title>

	<para><application>MPlayer</application> ist ein auf
	  Geschwindigkeit und Flexibilität ausgelegter Video-Spieler
	  für die Kommandozeile mit optionaler graphischer Oberfläche.
	  Diese Anwendung, sowie weitere graphische Oberflächen stehen
	  in der &os; Ports-Sammlung zur Verfügung.</para>

	<sect4 xml:id="video-mplayer-building">
	  <title>MPlayer bauen</title>

	  <indexterm>
	    <primary>MPlayer</primary>
	    <secondary>bauen</secondary>
	  </indexterm>

	  <para><application>MPlayer</application> ist als Paket oder
	    Port <package>multimedia/mplayer</package> verfügbar.
	    Der Bau von <application>MPlayer</application>
	    berücksichtigt die vorhandene Hardware und es können
	    zahlreiche Optionen ausgewählt werden.  Aus diesen Gründen
	    ziehen es manche Benutzer vor, den Port zu übersetzen,
	    anstatt das Paket zu installieren.</para>

	  <screen>&prompt.root; <userinput>cd /usr/ports/multimedia/mplayer</userinput>
&prompt.root; <userinput>make</userinput></screen>

	  <para>Die Optionen sollten überprüft werden, um dem Umfang
	    der Unterstützung, mit dem der Port gebaut wird, zu
	    bestimmen.  Wenn eine Option nicht ausgewählt wird, ist
	    <application>MPlayer</application> nicht in der Lage,
	    diese Art von Video-Format wiederzugeben.  Mit den
	    Pfeiltasten und der Leertaste können die erforderlichen
	    Formate ausgewählt werden.  Wenn Sie fertig sind, drücken
	    Sie <keycap>Enter</keycap>, um den Bau und die
	    Installation fortzusetzen.</para>

	  <para>In der Voreinstellung wird das Paket oder der Port das
	    <command>mplayer</command>-Kommandozeilenprogramm und das
	    graphische Programm <command>gmplayer</command> bauen.  Um
	    Videos zu dekodieren, installieren Sie den Port
	    <package>multimedia/mencoder</package>.  Aus
	    lizenzrechtlichen Gründen steht ein Paket von
	    <command>MEncoder</command> nicht zur Verfügung.</para>

	</sect4>

	<sect4 xml:id="video-mplayer-using">
	  <title>MPlayer benutzen</title>

	  <indexterm>
	    <primary>MPlayer</primary>
	    <secondary>benutzen</secondary>
	  </indexterm>

	  <para><application>MPlayer</application> erstellt beim
	    ersten Start <filename>~/.mplayer</filename> im
	    Heimatverzeichnis des Benutzers.  Dieses Verzeichnis
	    enthält die voreingestellten Konfigurationseinstellungen
	    für den Benutzer.</para>

	  <para>Dieser Abschnitt beschreibt nur ein paar wenige
	    Anwendungsmöglichkeiten.  Eine vollständige Beschreibung
	    der zahlreichen Möglichkeiten finden Sie in der Manualpage
	    von mplayer(1).</para>

	  <para>Um die Datei
	    <filename><replaceable>testfile.avi</replaceable></filename>
	    abzuspielen, geben Sie die Video-Schnittstelle mit
	    <option>-vo</option> an:</para>

	  <screen>&prompt.user; <userinput>mplayer -vo xv <replaceable>testfile.avi</replaceable></userinput></screen>
	  <screen>&prompt.user; <userinput>mplayer -vo sdl <replaceable>testfile.avi</replaceable></userinput></screen>
	  <screen>&prompt.user; <userinput>mplayer -vo x11 <replaceable>testfile.avi</replaceable></userinput></screen>
	  <screen>&prompt.root; <userinput>mplayer -vo dga <replaceable>testfile.avi</replaceable></userinput></screen>
	  <screen>&prompt.root; <userinput>mplayer -vo 'sdl:dga' <replaceable>testfile.avi</replaceable></userinput></screen>

	  <para>Es lohnt sich, alle Option zu testen.  Die
	    erzielte Geschwindigkeit hängt von vielen
	    Faktoren ab und variiert beträchtlich je nach
	    eingesetzter Hardware.</para>

	  <para>Wenn Sie eine DVD abspielen wollen, ersetzen Sie
	    <filename><replaceable>testfile.avi</replaceable></filename>
	    durch
	    <option>-dvd://<replaceable>N</replaceable>
	      <replaceable>Gerät</replaceable></option>.
	    <replaceable>N</replaceable> ist die Nummer des
	    Stücks, das Sie abspielen wollen und
	    <replaceable>Gerät</replaceable> gibt den
	    Gerätenamen des DVD-ROMs an.  Das nachstehende
	    Kommando spielt das dritte Stück von
	    <filename>/dev/dvd</filename>:</para>

	  <screen>&prompt.root; <userinput>mplayer -vo dga -dvd://3 /dev/dvd</userinput></screen>

	  <note>
	    <para>Das standardmäßig verwendete DVD-Laufwerk kann beim
	      Bau des <application>MPlayer</application>-Ports mit der
	      Option
	      <varname>WITH_DVD_DEVICE=/pfad/zum/gerät</varname>
	      festgelegt werden.  Die Voreinstellung verwendet das
	      Gerät <filename>/dev/acd0</filename>.  Weitere Details
	      finden Sie in <filename>Makefile.options</filename> des
	      Ports.</para>
	  </note>

	  <para>Die Tastenkombinationen zum Abbrechen, Anhalten
	    und Weiterführen der Wiedergabe entnehmen Sie
	    der Ausgabe von <command>mplayer -h</command> oder der
	    Manualpage.</para>

	  <para>Weitere nützliche Optionen für die
	    Wiedergabe sind <option>-fs -zoom</option> zur Wiedergabe
	    im Vollbild-Modus und <option>-framedrop</option>
	    zur Steigerung der Geschwindigkeit.</para>

	  <para>Jeder Benutzer kann häufig verwendete Optionen in
	    seine <filename>~/.mplayer/config</filename>
	    eintragen:</para>

	  <programlisting>vo=xv
fs=yes
zoom=yes</programlisting>

	  <para><command>mplayer</command> kann verwendet werden, um
	    DVD-Stücke in <filename>.vob</filename>-Dateien zu
	    rippen.  Das zweite Stück einer DVD wandeln Sie
	    wie folgt in eine Datei um:</para>

	  <screen>&prompt.root; <userinput>mplayer -dumpstream -dumpfile out.vob -dvd://2 /dev/dvd</userinput></screen>

	  <para>Die Ausgabedatei <filename>out.vob</filename>
	    wird im MPEG-Format abgespeichert und kann mit
	    anderen Werkzeugen aus diesem Abschnitt bearbeitet
	    werden.</para>

	  <para>Jeder Benutzer, der mehr Informationen über Video
	    unter &unix; sammeln möchte, sollte <link
	      xlink:href="http://www.mplayerhq.hu/DOCS/">
	      mplayerhq.hu/DOCS</link> konsultieren, da es technisch
	    sehr informativ ist.  Diese Dokumentation sollte ebenfalls
	    studiert werden, bevor Fehlerberichte eingereicht
	    werden.</para>
	</sect4>

	<sect4 xml:id="video-mencoder">
	  <title>MEncoder</title>

	  <indexterm>
	    <primary>mencoder</primary>
	  </indexterm>

	  <para>Vor der Verwendung von <command>mencoder</command>
	    ist es hilfreich, sich mit den auf <link
	      xlink:href="http://www.mplayerhq.hu/DOCS/HTML/en/mencoder.html">mplayerhq.hu/DOCS/HTML/en/mencoder.html</link>
	    beschriebenen Optionen vertraut zu machen.  Es gibt
	    unzählige Möglichkeiten die Qualität zu verbessern, die
	    Bitrate zu verringern und Formate zu konvertieren.  Einige
	    davon haben erhebliche Auswirkungen auf die
	    Geschwindigkeit.  Falsche Kombinationen von
	    Kommandozeilenparametern ergeben eventuell Dateien, die
	    selbst <command>mplayer</command> nicht mehr wiedergeben
	    kann.</para>

	  <para>Hier ist ein Beispiel für eine einfache Kopie:</para>

	  <screen>&prompt.user; <userinput>mencoder <replaceable>input.avi</replaceable> -oac copy -ovc copy -o <replaceable>output.avi</replaceable></userinput></screen>

	  <para>Wenn Sie in eine Datei rippen, benutzen Sie
	    die Option <option>-dumpfile</option> von
	    <command>mplayer</command>.</para>

	  <para>Um
	    <filename><replaceable>input.avi</replaceable></filename>
	    nach MPEG4 mit MPEG3 für den Ton zu konvertieren, muss
	    zunächst der Port <package>audio/lame</package>
	    installiert werden.  Aus lizenzrechtlichen Gründen ist ein
	    Paket nicht verfügbar.  Wenn der Port installiert ist,
	    geben Sie ein:</para>

	  <screen>&prompt.user; <userinput>mencoder <replaceable>input.avi</replaceable> -oac mp3lame -lameopts br=192 \
	   -ovc lavc -lavcopts vcodec=mpeg4:vhq -o <replaceable>output.avi</replaceable></userinput></screen>

	  <para>Die Ausgabedatei lässt sich mit Anwendungen wie
	    <command>mplayer</command> oder
	    <command>xine</command> abspielen.</para>

	  <para><filename>input.avi</filename> kann durch
	    <option>-dvd://1 /dev/dvd</option> ersetzt und das
	    Kommando als <systemitem
	      class="username">root</systemitem> ausgeführt werden,
	    um ein DVD-Stück direkt zu konvertieren.  Da vielleicht
	    ein paar Versuche nötig sind, um das gewünschte Ergebnis
	    zu erhalten, empfiehlt es sich das Stück zuerst in eine
	    Datei zu schreiben und anschließend die Datei weiter zu
	    bearbeiten.</para>
	</sect4>
      </sect3>

      <sect3 xml:id="video-xine">
	<title>Der Video-Spieler
	  <application>xine</application></title>

	<para><application>xine</application> ist ein Video-Spieler
	  mit einer wiederverwendbaren Bibliothek und ein Programm,
	  das durch Plugins erweitert werden kann.  Es kann als Paket
	  oder Port <package>multimedia/xine</package> installiert
	  werden.</para>

	<para>Für einen reibungslosen Betrieb benötigt
	  <application>xine</application> entweder eine schnelle
	  <acronym>CPU</acronym> mit einer schnellen Grafikkarte,
	  oder die XVideo-Erweiterung.  Am schnellsten läuft
	  <application>xine</application> mit der
	  XVideo-Erweiterung.</para>

	<para>In der Voreinstellung startet
	  <application>xine</application> eine grafische
	  Benutzeroberfläche.  Über die Menüs können dann
	  bestimmte Dateien geöffnet werden.</para>

	<para>Alternativ kann <application>xine</application> auch
	  über die Kommandozeile aufgerufen werden, um Dateien direkt
	  wiederzugeben:</para>

	<screen>&prompt.user; <userinput>xine -g -p <replaceable>mymovie.avi</replaceable></userinput></screen>

	<para>Weitere Informationen und Tipps zur Fehlerbehebung
	  finden Sie unter <link
	    xlink:href="http://www.xine-project.org/faq">
	    xine-project.org/faq</link>.</para>
      </sect3>

      <sect3 xml:id="video-ports-transcode">
	<title>Die
	  <application>transcode</application>-Werkzeuge</title>

	<para><application>transcode</application> ist eine Sammlung
	  von Werkzeugen zur Umwandlung von Video- und Audio-Dateien.
	  <application>transcode</application> mischt Video-Dateien
	  und kann kaputte Video-Dateien reparieren.  Die Werkzeuge
	  werden als Filter verwendet, das heißt die Ein- und Ausgaben
	  verwenden <filename>stdin/stdout</filename>.</para>

	<para><application>transcode</application> kann als Paket oder
	  Port <package>multimedia/transcode</package> installiert
	  werden.  Viele Benutzer bevorzugen es den Port zu bauen, da
	  er ein Menü bereitstellt, wo die entsprechenden Formate für
	  den Bau ausgewählt werden können.  Mit den Pfeiltasten und
	  der Leertaste können die erforderlichen Formate ausgewählt
	  werden.  Wenn Sie fertig sind, drücken Sie
	  <keycap>Enter</keycap>, um den Bau und die Installation
	  fortzusetzen.</para>

	<para>Dieses Beispiel zeigt, wie eine DivX-Datei in eine PAL
	  MPEG-1-Datei konvertiert wird:</para>

	<screen>&prompt.user; <userinput>transcode -i <replaceable>input.avi</replaceable> -V --export_prof vcd-pal -o output_vcd</userinput>
&prompt.user; <userinput>mplex -f 1 -o <replaceable>output_vcd.mpg output_vcd.m1v output_vcd.mpa</replaceable></userinput></screen>

	<para>Die daraus resultierende MPEG-Datei,
	  <filename>output_vcd.mpg</filename>, kann beispielsweise mit
	  <application>MPlayer</application> abgespielt werden.  Die
	  Datei kann auch mit einem Programm wie
	  <package>multimedia/vcdimager</package> oder
	  <package>sysutils/cdrdao</package> als Video-CD auf eine
	  CD-R gebrannt werden.</para>

	<para>Zusätzlich zu der Manualpage von
	  <command>transcode</command>, sollten Sie auch die
	  Informationen und Beispiele im <link
	    xlink:href="http://www.transcoding.org/cgi-bin/transcode">
	    transcode-Wiki</link> lesen.</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xml:id="tvcard">
    <info><title>TV-Karten einrichten</title>
      <authorgroup>
	<author><personname><firstname>Josef</firstname><surname>El-Rayes</surname></personname><contrib>Beigetragen von </contrib></author>
      </authorgroup>
      <authorgroup>
	<author><personname><firstname>Marc</firstname><surname>Fonvieille</surname></personname><contrib>Überarbeitet von </contrib></author>
      </authorgroup>
    </info>

    
    <indexterm>
      <primary>TV-Karten</primary>
    </indexterm>

    <sect2>
      <title>Einführung</title>

      <para>Mit TV-Karten können Sie mit dem Rechner
	über Kabel oder Antenne fernsehen.  Die meisten
	Karten besitzen einen RCA- oder S-Video-Eingang.
	Einige Karten haben auch einen FM-Radio-Empfänger.</para>

      <para>Der &man.bktr.4;-Treiber von &os; unterstützt
	PCI-TV-Karten mit einem Brooktree Bt848/849/878/879 oder
	einem Conexant CN-878/Fusion 878a Chip.  Die Karte sollte
	einen der unterstützten Empfänger besitzen, die in
	&man.bktr.4; aufgeführt sind.</para>
    </sect2>

    <sect2>
      <title>Den Treiber laden</title>

      <para>Um die Karte benutzen zu können, muss der
	&man.bktr.4;-Treiber geladen werden.  Damit dies beim
	Systemstart automatisch erfolgt, muss die folgende Zeile
	in <filename>/boot/loader.conf</filename> hinzugefügt
	werden:</para>

      <programlisting>bktr_load="YES"</programlisting>

      <para>Alternativ kann der Treiber für die TV-Karte
	auch fest in den Kernel kompiliert werden.  In diesem Fall
	müssen folgende Zeilen in die Kernelkonfigurationsdatei
	aufgenommen werden:</para>

      <programlisting>device	 bktr
device	iicbus
device	iicbb
device	smbus</programlisting>

      <para>Die zusätzlichen Treiber werden benötigt,
	da die Komponenten der Karte über einen I2C-Bus
	verbunden sind.  Bauen und installieren Sie dann den
	neuen Kernel.</para>

      <para>Um den Treiber zu testen, muss das System neu gestartet
	werden.  Während des Neustarts sollte die TV-Karte erkannt
	werden:</para>

      <programlisting>bktr0: &lt;BrookTree 848A&gt; mem 0xd7000000-0xd7000fff irq 10 at device 10.0 on pci0
iicbb0: &lt;I2C bit-banging driver&gt; on bti2c0
iicbus0: &lt;Philips I2C bus&gt; on iicbb0 master-only
iicbus1: &lt;Philips I2C bus&gt; on iicbb0 master-only
smbus0: &lt;System Management Bus&gt; on bti2c0
bktr0: Pinnacle/Miro TV, Philips SECAM tuner.</programlisting>

      <para>Abhängig von der verwendeten Hardware können die
	Meldungen natürlich anders aussehen.  Sie sollten
	aber prüfen, dass der Empfänger richtig erkannt wird.
	Die entdeckten Geräte lassen sich mit &man.sysctl.8;
	oder in der Kernelkonfigurationsdatei überschreiben.
	Wenn Sie beispielsweise einen Philips-SECAM-Empfänger
	erzwingen wollen, fügen Sie die folgende Zeile
	zur Kernelkonfigurationsdatei hinzu:</para>

      <programlisting>options OVERRIDE_TUNER=6</programlisting>

      <para>Alternativ können Sie &man.sysctl.8; benutzen:</para>

      <screen>&prompt.root; <userinput>sysctl hw.bt848.tuner=6</userinput></screen>

      <para>Weitere Informationen zu den verschiedenen Optionen finden
	Sie in &man.bktr.4; sowie in
	<filename>/usr/src/sys/conf/NOTES</filename>.</para>
    </sect2>

    <sect2>
      <title>Nützliche Anwendungen</title>

      <para>Um die TV-Karte zu benutzen, installieren Sie eine
	der nachstehenden Anwendungen:</para>

      <itemizedlist>
	<listitem>
	  <para><package>multimedia/fxtv</package>
	    lässt das Fernsehprogramm in einem Fenster laufen
	    und kann Bilder, Audio und Video aufzeichnen.</para>
	</listitem>
	<listitem>
	  <para><package>multimedia/xawtv</package>
	    eine weitere TV-Anwendung mit vergleichbaren
	    Funktionen.</para>
	</listitem>
	<listitem>
	  <para>Mit <package>audio/xmradio</package>
	    lässt sich der FM-Radio-Empfänger, der sich
	    auf TV-Karten befindet, benutzen.</para>
	</listitem>
      </itemizedlist>

      <para>Weitere Anwendungen finden Sie in der &os;
	Ports-Sammlung.</para>
    </sect2>

    <sect2>
      <title>Fehlersuche</title>

      <para>Wenn Sie Probleme mit der TV-Karte haben, prüfen
	Sie zuerst, ob der Video-Capture-Chip und der Empfänger
	vom &man.bktr.4;-Treiber unterstützt werden und ob Sie die
	richtigen Optionen verwenden.  Weitere Hilfe zu
	unterstützten TV-Karten finden Sie auf der Mailingliste
	&a.multimedia.name; und in deren Archiven.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="mythtv">
    <title>MythTV</title>

    <para>MythTV ist eine beliebte Open Source
      <acronym>PVR</acronym>-Anwendung.  Dieser Abschnitt beschreibt
      die Installation und Konfiguration von MythTV unter &os;.
      Weitere Informationen zur Benutzung von MythTV finden Sie unter
      <link xlink:href="http://www.mythtv.org/wiki/">
	mythtv.org/wiki</link>.</para>

    <para>MythTV benötigt ein Frontend und ein Backend.  Diese
      Komponenten können entweder auf dem gleichen System, oder auf
      unterschiedlichen Maschinen installiert werden.</para>

    <para>Für das Frontend wird
      <package>multimedia/mythtv-frontend</package>, sowie ein
      X-Server benötigt, welcher in <package>x11/xorg</package> zu
      finden ist.  Idealerweise besitzt der Frontend-Computer auch
      eine Videokarte, die <acronym
	role="X-Video Motion Compensation">XvMC</acronym> unterstützt,
      sowie optional eine <acronym
	role="Linux Infrared Remote Control">LIRC</acronym>-kompatible
      Fernbedienung.</para>

    <para>Für das Backend wird <package>multimedia/mythtv</package>
      benötigt, ebenso wie eine &mysql;-Datenbank, sowie zusätzlich
      einen Empfänger und Speicherplatz für Aufzeichnungen.  Das
      &mysql;-Paket sollte automatisch als Abhängigkeit mitinstalliert
      werden, wenn <package>multimedia/mythtv</package> installiert
      wird.</para>

    <sect2>
      <title>Hardware</title>

      <para>MythTV wurde entwickelt, um <acronym>V4L</acronym> zu
	verwenden, so dass auf Videoeingabegeräte wie Kodierer und
	Empfänger zugegriffen werden kann.  Aktuell funktioniert
	MythTV am besten mit <acronym>USB</acronym> DVB-S/C/T Karten,
	die von <package>multimedia/webcamd</package> unterstützt
	werden, da dies eine <acronym>V4L</acronym>-Anwendung zur
	Verfügung stellt, die als Benutzerprogramm läuft.  Jede
	<acronym>DVB</acronym>-Karte, die von
	<application>webcamd</application> unterstützt wird, sollte
	mit MythTV funktionieren, jedoch gibt es eine Liste von
	Karten, die <link
	  xlink:href="http://wiki.freebsd.org/WebcamCompat">
	  hier</link> abgerufen werden kann.  Es existieren auch
	Treiber für Hauppauge-Karten in den folgenden Paketen:
	<package>multimedia/pvr250</package> und
	<package>multimedia/pvrxxx</package>, allerdings liefern diese
	nur eine Treiberschnittstelle, die nicht dem Standard
	entspricht und die nicht mit MythTV-Versionen grösser als
	0.23 funktionieren. Aus lizenzrechtlichen Gründen ist ein
	Paket nicht verfügbar, sodass die beiden Ports übersetzt
	werden müssen.</para>

      <para>Die <link xlink:href="http://wiki.freebsd.org/HTPC">
	  HTPC Wiki Seite</link> enthält eine Liste von allen
	verfügbaren <acronym>DVB</acronym>-Treibern.</para>
    </sect2>

    <sect2>
      <title>MythTV einrichten</title>

      <para>Geben Sie folgendes ein, um MythTV aus der Ports-Sammlung
	zu installieren:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/multimedia/mythtv</userinput>
&prompt.root; <userinput>make install</userinput></screen>

      <para>Richten Sie anschließend die MythTV-Datenbank ein:</para>

      <screen>&prompt.root; <userinput>mysql -uroot -p &lt; /usr/local/share/mythtv/database/mc.sql</userinput></screen>

      <para>Konfigurieren Sie dann das Backend:</para>

      <screen>&prompt.root; <userinput>mythtv-setup</userinput></screen>

      <para>Zum Schluss starten Sie das Backend:</para>

      <screen>&prompt.root; <userinput>echo 'mythbackend_enable="YES"' &gt;&gt; /etc/rc.conf</userinput>
&prompt.root; <userinput>service mythbackend start</userinput></screen>
    </sect2>
  </sect1>

  <sect1 xml:id="scanners">
    <info><title>Scanner</title>
      <authorgroup>
	<author><personname><firstname>Marc</firstname><surname>Fonvieille</surname></personname><contrib>Beigetragen von </contrib></author>
      </authorgroup>
    </info>

    <indexterm>
      <primary>Scanner</primary>
    </indexterm>

    <para>Unter &os; stellt <application>SANE</application> (Scanner
      Access Now Easy) aus der Ports-Sammlung eine einheitliche
      Schnittstelle (<acronym>API</acronym>) für den Zugriff auf
      Scanner bereit.  <application>SANE</application> wiederum greift
      auf Scanner mithilfe einiger &os;-Treiber zu.</para>

    <para>&os; unterstützt sowohl SCSI- als auch USB-Scanner.  Prüfen
      Sie vor der Konfiguration mithilfe der <link
	xlink:href="http://www.sane-project.org/sane-supported-devices.html">
	Liste der unterstützten Geräte</link> ob der Scanner von
	<application>SANE</application> unterstützt wird.</para>

    <sect2>
      <title>Den Kernel für Scanner einrichten</title>

      <para>Da sowohl SCSI- als auch USB-Scanner unterstützt
	werden, werden abhängig von der Schnittstelle
	unterschiedliche Treiber benötigt.</para>

      <sect3 xml:id="scanners-kernel-usb">
	<title>USB-Scanner</title>

	<para>Im <filename>GENERIC</filename>-Kernel sind
	  schon alle, für einen USB-Scanner notwendigen,
	  Treiber enthalten.  Benutzer mit einem angepassten Kernel
	  sollten sicherstellen, dass die Kernelkonfiguration
	  die nachstehenden Zeilen enthält:</para>

	<programlisting>device usb
device uhci
device ohci
device ehci</programlisting>

	<para>Schließen Sie den USB-Scanner an.  Prüfen Sie mit
	  &man.dmesg.8;, ob der Scanner in den Systemmeldungen
	  erscheint:</para>

	<screen>ugen0.2: &lt;EPSON&gt; at usbus0</screen>

	<para>Diese Meldung besagt, dass der Scanner entweder die
	  Gerätedatei <filename>/dev/ugen0.2</filename>, oder
	  <filename>/dev/uscanner0</filename> benutzt.  Dies ist
	  abhängig von der verwendeten &os; Version.  In diesem
	  Beispiel wurde ein &epson.perfection;&nbsp;1650
	  USB-Scanner verwendet.</para>
      </sect3>

      <sect3>
	<title>SCSI-Scanner</title>

	<para>Wenn der Scanner eine SCSI-Schnittstelle besitzt,
	  ist die Kernelkonfiguration abhängig vom
	  verwendeten SCSI-Controller.  Der
	  <filename>GENERIC</filename>-Kernel unterstützt
	  die gebräuchlichen SCSI-Controller.  Den richtigen
	  Treiber finden Sie in
	  <filename>/usr/src/sys/conf/NOTES</filename>.
	  Neben dem Treiber muss die Kernelkonfiguration
	  noch die nachstehenden Zeilen enthalten:</para>

	<programlisting>device scbus
device pass</programlisting>

	<para>Nachdem Sie einen Kernel gebaut und installiert haben,
	  sollte der Scanner beim Neustart in den Systemmeldungen
	  erscheinen:</para>

	<screen>pass2 at aic0 bus 0 target 2 lun 0
pass2: &lt;AGFA SNAPSCAN 600 1.10&gt; Fixed Scanner SCSI-2 device
pass2: 3.300MB/s transfers</screen>

	<para>Wenn der Scanner während des Systemstarts
	  ausgeschaltet war, können Sie die Geräteerkennung
	  erzwingen, indem Sie den SCSI-Bus erneut absuchen.
	  Verwenden Sie dazu das Kommando &man.camcontrol.8;:</para>

	<screen>&prompt.root; <userinput>camcontrol rescan all</userinput>
Re-scan of bus 0 was successful
Re-scan of bus 1 was successful
Re-scan of bus 2 was successful
Re-scan of bus 3 was successful</screen>

	<para>Der Scanner sollte jetzt in der SCSI-Geräteliste
	  erscheinen:</para>

	<screen>&prompt.root; <userinput>camcontrol devlist</userinput>
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 5 lun 0 (pass0,da0)
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 6 lun 0 (pass1,da1)
&lt;AGFA SNAPSCAN 600 1.10&gt;           at scbus1 target 2 lun 0 (pass3)
&lt;PHILIPS CDD3610 CD-R/RW 1.00&gt;     at scbus2 target 0 lun 0 (pass2,cd0)</screen>

	<para>Weitere Informationen über SCSI-Geräte unter &os; finden
	  Sie in &man.scsi.4; und &man.camcontrol.8;.</para>
      </sect3>
    </sect2>

    <sect2>
      <title>SANE konfigurieren</title>

      <para><application>SANE</application> besteht aus zwei
	Teilen, den Backends
	(<package>graphics/sane-backends</package>)
	und den Frontends
	(<package>graphics/sane-frontends</package>).
	Das Backend greift auf den Scanner zu.  Welches Backend
	welchen Scanner unterstützt, entnehmen Sie der
	<link xlink:href="http://www.sane-project.org/sane-supported-devices.html">
	  Liste der unterstützten Geräte</link>.
	Der Betrieb eines Scanners ist nur mit dem richtigen
	Backend möglich.  Die Frontends sind die Anwendungen,
	mit denen gescannt wird (<application>xscanimage</application>).</para>

      <para>Installieren Sie zuerst den Port oder das Paket
	<package>graphics/sane-backends</package>.
	Anschließend können Sie mit dem Befehl
	<command>sane-find-scanner</command> prüfen, ob
	<application>SANE</application> den Scanner erkennt:</para>

      <screen>&prompt.root; <userinput>sane-find-scanner -q</userinput>
found SCSI scanner "AGFA SNAPSCAN 600 1.10" at /dev/pass3</screen>

      <para>Die Ausgabe zeigt die Schnittstelle und die verwendete
	Gerätedatei des Scanners.  Der Hersteller und das
	Modell können in der Ausgabe fehlen.</para>

      <note>
	<para>Bei einigen USB-Scannern muss die Firmware geladen
	  werden.  Lesen Sie &man.sane-find-scanner.1; und
	  &man.sane.7; für weitere Details.</para>
      </note>

      <para>Als nächstes müssen Sie prüfen, ob
	der Scanner vom Frontend erkannt wird.  Die
	<application>SANE</application>-Backends werden
	mit dem Kommandozeilenwerkzeug &man.scanimage.1;
	geliefert.  Mit diesem Werkzeug können Sie
	sich Scanner anzeigen lassen und den Scan-Prozess
	von der Kommandozeile starten.  Die Option
	<option>-L</option> zeigt die Scanner an:</para>

      <screen>&prompt.root; <userinput>scanimage -L</userinput>
device `snapscan:/dev/pass3' is a AGFA SNAPSCAN 600 flatbed scanner</screen>

      <para>Hier ist die Ausgabe für das Beispiel mit dem USB-Scanner
	in <xref linkend="scanners-kernel-usb"/>:</para>

      <screen>&prompt.root; <userinput>scanimage -L</userinput>
device 'epson2:libusb:/dev/usb:/dev/ugen0.2' is a Epson GT-8200 flatbed scanner</screen>

      <para>Die Zeile
        <literal>'epson2:libusb:/dev/usb:/dev/ugen0.2'</literal> nennt
	das Backend (<literal>epson2</literal>) und die Gerätedatei
	(<literal>/dev/ugen0.2</literal>), die der Scanner
	verwendet.</para>

      <note>
        <para>Erscheint die Meldung, dass kein Scanner gefunden
	  wurde oder wird gar keine Ausgabe erzeugt, konnte
	  &man.scanimage.1; keinen Scanner erkennen.  In diesem
	  Fall müssen Sie in der Konfigurationsdatei des Backends
	  das zu benutzende Gerät eintragen.  Die
	  Konfigurationsdateien der Backends befinden sich
	  in <filename>/usr/local/etc/sane.d/</filename>.</para>

	<para>In dem obigen Beispiel wurde der Scanner erkannt und ist
	  funktionsfähig.</para>

	<para>Um festzustellen, ob der Scanner richtig erkannt
	  wurde:</para>

	<screen>&prompt.root; <userinput>scanimage -L</userinput>

No scanners were identified. If you were expecting something different,
check that the scanner is plugged in, turned on and detected by the
sane-find-scanner tool (if appropriate). Please read the documentation
which came with this software (README, FAQ, manpages).</screen>

	<para>Da der Scanner nicht erkannt wurde, muss
	  <filename>/usr/local/etc/sane.d/epson2.conf</filename> editiert
	  werden.  Der verwendete Scanner in diesem Beispiel war ein
	  &epson.perfection;&nbsp;1650, daher wird das
	  <literal>epson2</literal>-Backend benutzt.  Lesen Sie
	  bitte alle Kommentare in der Konfigurationsdatei des
	  Backends.  Die durchzuführenden Änderungen
	  sind einfach.  Kommentieren Sie zunächst alle
	  Zeilen mit der falschen Schnittstelle aus.  Da der
	  Scanner eine USB-Schnittstelle besitzt, wurden im
	  Beispiel alle Zeilen, die mit <literal>scsi</literal>
	  anfingen, auskommentiert.  Fügen Sie dann die
	  Schnittstelle und den Gerätenamen am Ende der
	  Datei ein.  In diesem Beispiel wurde die nachstehende
	  Zeile eingefügt:</para>

	<programlisting>usb /dev/uscanner0</programlisting>

	<para>Speichern Sie die Änderungen und prüfen Sie, ob der
	  Scanner richtig erkannt wird:</para>

	<screen>&prompt.root; <userinput>scanimage -L</userinput>
device `epson:/dev/uscanner0' is a Epson GT-8200 flatbed scanner</screen>

	<para>Das Feld <literal>`epson:/dev/uscanner0'</literal>,
	  zeigt jetzt das richtige Backend und den richtigen Gerätenamen
	  an.</para>
      </note>

      <para>Wenn <command>scanimage -L</command> den Scanner erkannt
	hat, ist der Scanner eingerichtet und bereit, zu
	scannen.</para>

      <para>Obwohl &man.scanimage.1; von der Kommandozeile
	scannen kann, ist eine graphische Anwendung
	zum Scannen besser geeignet.  <application>SANE</application>
	bietet ein einfaches und effizientes Werkzeug:
	<application>xscanimage</application>.</para>

      <para><application>Xsane</application>, das über den Port oder
	das Paket <package>graphics/xsane</package> installiert wird,
	ist eine weitere beliebte graphische Anwendung.  Dieses
	Frontend besitzt erweiterte Funktionen wie den Scan-Modus,
	eine Farbkorrektur und Batch-Scans.  Beide Anwendungen
	lassen sich als <application>GIMP</application>-Plugin
	verwenden.</para>
    </sect2>

    <sect2>
      <title>Den Scanner für Benutzerkonten freigeben</title>

      <para>Wenn andere Benutzer den Scanner benutzen sollen,
	müssen sie Lese- und Schreibrechte auf die
	Gerätedatei des Scanners besitzen.  Im vorherigen Beispiel
	wird die Datei <filename>/dev/ugen0.2</filename> verwendet,
	die faktisch nur ein Symlink auf die echte Gerätedatei,
	<filename>/dev/usb/0.2.0</filename> genannt, darstellt.
	Sowohl der Symlink als auch die Gerätedatei sind jeweils im
	Besitz der Gruppen <systemitem
	  class="groupname">wheel</systemitem> und <systemitem
	  class="groupname">operator</systemitem>.  Damit ein Benutzer
	den Scanner benutzen kann, muss er Mitglied in einer der
	beiden Gruppen sein. Allerdings sollte aus Sicherheitsgründen
	genau überlegt werden, welche Benutzer zu welcher Gruppe
	hinzugefügt werden, besonders bei der Gruppe <systemitem
	  class="groupname">wheel</systemitem>.  Eine bessere
	Lösung ist es, eine spezielle Gruppe für den Zugriff auf
	USB-Geräte anzulegen und den Scanner für Mitglieder dieser
	Gruppe zugänglich zu machen.</para>

      <para>Dieses Beispiel nutzt &man.pw.8;, um eine Gruppe namens
        <systemitem class="groupname"><replaceable>
	  usb</replaceable></systemitem> zu erstellen:</para>

      <screen>&prompt.root; <userinput>pw groupadd usb</userinput></screen>

      <para>Anschliessend muss der <filename>/dev/ugen0.2</filename>-Symlink
        und der Gerätename <filename>/dev/usb/0.2.0</filename> für
        die <systemitem class="groupname">usb</systemitem>-Gruppe mit den
        Schreibrechten (<literal>0660</literal> oder <literal>0664</literal>)
        ausgestattet werden.  All dies kann durch das Hinzufügen der
	folgenden Zeile in <filename>/etc/devfs.rules</filename>
	erreicht werden:</para>

      <programlisting>[system=5]
add path ugen0.2 mode 0660 group usb
add path usb/0.2.0 mode 0660 group usb</programlisting>

      <para>Jetzt müssen nur noch Benutzer zur Gruppe
        <systemitem class="groupname"><replaceable>
	  usb</replaceable></systemitem> hinzugefügt werden, um ihnen
	den Zugriff auf den Scanner zu erlauben:</para>

      <screen>&prompt.root;<userinput>pw groupmod usb -m joe</userinput></screen>

      <para>Weitere Details finden Sie in &man.pw.8;.</para>
    </sect2>
  </sect1>
</chapter>
