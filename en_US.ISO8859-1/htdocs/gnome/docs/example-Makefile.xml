<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//FreeBSD//DTD XHTML 1.0 Transitional-Based Extension//EN"
"http://www.FreeBSD.org/XML/share/xml/xhtml10-freebsd.dtd" [
<!ENTITY title "FreeBSD GNOME Project: Example GNOME Makefile">
<!ENTITY email "freebsd-gnome">
]>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <title>&title;</title>

      <cvs:keyword xmlns:cvs="http://www.FreeBSD.org/XML/CVS">$FreeBSD$</cvs:keyword>
    </head>

    <body class="navinclude.gnome">

	<!-- XXX https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=179246 -->

	  <p>The following is an example Makefile for a FreeBSD GNOME port.</p>

	  <pre>
# Created by: Some GNOME User &lt;&email;@FreeBSD.org&gt;
# $FreeBSD: head/en_US.ISO8859-1/htdocs/gnome/docs/example-Makefile.xml 43181 2013-11-13 06:10:37Z hrs $

# For this example, assume there was already a gnomeapp in the tree, and that this
# is the GTK+-2 version (i.e. gnomeapp2 versus gnomeapp).
PORTNAME=	gnomeapp2
PORTVERSION=	&gnomever;.2
MASTER_SITES=	${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= sources/${PORTNAME:S/2//}/${PORTVERSION:C/^([0-9]+\.[0-9]+).*/\1/}
DISTNAME=	${PORTNAME:S/2//}-${PORTVERSION}
DIST_SUBDIR=	gnome2

MAINTAINER=	gnome@FreeBSD.org
COMMENT=	GNOME app that does some stuff

# if the distfile is compressed with bzip2
USE_BZIP2=	yes
GNU_CONFIGURE=	yes # NOTE: if the port needs ltverhack, this must be
USE_AUTOTOOLS=	libtool
USE_GMAKE=	yes # same with GNU make
# This is to find headers and libraries of other ports, not always needed.
CPPFLAGS+=	-I${LOCALBASE}/include
LDFLAGS+=	-L${LOCALBASE}/lib
USE_GNOME=	gtk20
USES=		pathfix

# This application can dock in the GNOME panel, or it can not.
OPTIONS_DEFINE=	PANEL
OPTIONS_DEFAULT=PANEL
# Common options descriptions are located in Mk/bsd.options.desc.mk if
# it is listed there you can leave the line below out. Or if the Common 
# description doesn't match the function in this port.
PANEL_DESC=	Build gnome-panel applet

.include &lt;bsd.port.options.mk&gt;

.if ${PORT_OPTIONS:MPANEL}
USE_GNOME+=	gnomepanel
CONFIGURE_ARGS+=--with-gnome
.else
CONFIGURE_ARGS+=--without-gnome
.endif

.include &lt;bsd.port.mk&gt;
	</pre>

  </body>
</html>
